<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - lcov.info - lib/View/ArchivedBoards.dart</title>
  <link rel="stylesheet" type="text/css" href="../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../index.html">top level</a> - <a href="index.html">lib/View</a> - ArchivedBoards.dart<span style="font-size: 80%;"> (source / <a href="ArchivedBoards.dart.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">lcov.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">187</td>
            <td class="headerCovTableEntryLo">0.0 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2020-06-12 22:49:07</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr><td><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : import 'package:flutter/cupertino.dart';</a>
<span class="lineNum">       2 </span>            : import 'package:flutter/foundation.dart';
<span class="lineNum">       3 </span>            : import 'package:flutter/material.dart';
<span class="lineNum">       4 </span>            : import 'package:flutter/painting.dart';
<span class="lineNum">       5 </span>            : import 'package:flutter/rendering.dart';
<span class="lineNum">       6 </span>            : import 'package:intl/intl.dart';
<span class="lineNum">       7 </span>            : import 'package:postgrad_tracker/Controller/Project_BoardController.dart';
<span class="lineNum">       8 </span>            : import 'package:postgrad_tracker/Controller/StudentController.dart';
<span class="lineNum">       9 </span>            : import 'package:postgrad_tracker/Controller/SupervisorController.dart';
<span class="lineNum">      10 </span>            : import 'package:postgrad_tracker/Controller/UserController.dart';
<span class="lineNum">      11 </span>            : import 'package:postgrad_tracker/Model/Project_Board.dart';
<span class="lineNum">      12 </span>            : import 'package:postgrad_tracker/Model/Student.dart';
<span class="lineNum">      13 </span>            : import 'package:postgrad_tracker/Model/Supervisor.dart';
<span class="lineNum">      14 </span>            : import 'package:postgrad_tracker/Model/User.dart';
<span class="lineNum">      15 </span>            : import 'package:postgrad_tracker/View/Board.dart';
<span class="lineNum">      16 </span>            : import 'package:postgrad_tracker/View/Home.dart';
<span class="lineNum">      17 </span>            : import 'package:postgrad_tracker/main.dart';
<span class="lineNum">      18 </span><span class="lineNoCov">          0 : final List&lt;DynamicWidget&gt; listArchDynamic=new List&lt;DynamicWidget&gt;();</span>
<span class="lineNum">      19 </span>            : bool _isDeleted;
<span class="lineNum">      20 </span>            : class ArchivedBoards extends StatefulWidget {
<span class="lineNum">      21 </span>            : 
<span class="lineNum">      22 </span><span class="lineNoCov">          0 :   Future initialize() async{</span>
<span class="lineNum">      23 </span>            :     Project_BoardController projectBoardController =
<span class="lineNum">      24 </span><span class="lineNoCov">          0 :     new Project_BoardController();</span>
<span class="lineNum">      25 </span>            :     List&lt;List&lt;Project_Board&gt;&gt; allBoards =
<span class="lineNum">      26 </span><span class="lineNoCov">          0 :     await projectBoardController.ReadBoards(user.userTypeID, personNo);</span>
<span class="lineNum">      27 </span><span class="lineNoCov">          0 :     if (allBoards.isEmpty == false) {</span>
<span class="lineNum">      28 </span><span class="lineNoCov">          0 :       if (allBoards[0] == null) {</span>
<span class="lineNum">      29 </span><span class="lineNoCov">          0 :         user.boards = null;</span>
<span class="lineNum">      30 </span>            :       } else {
<span class="lineNum">      31 </span><span class="lineNoCov">          0 :         user.boards = allBoards[0];</span>
<span class="lineNum">      32 </span>            :       }
<span class="lineNum">      33 </span><span class="lineNoCov">          0 :       if (allBoards[1] == null) {</span>
<span class="lineNum">      34 </span><span class="lineNoCov">          0 :         user.archivedBoards = null;</span>
<span class="lineNum">      35 </span>            :       } else {
<span class="lineNum">      36 </span><span class="lineNoCov">          0 :         user.archivedBoards = allBoards[1];</span>
<span class="lineNum">      37 </span>            :       }
<span class="lineNum">      38 </span>            :     } else {
<span class="lineNum">      39 </span><span class="lineNoCov">          0 :       user.boards = null;</span>
<span class="lineNum">      40 </span><span class="lineNoCov">          0 :       user.archivedBoards = null;</span>
<span class="lineNum">      41 </span>            :     }
<span class="lineNum">      42 </span>            : 
<span class="lineNum">      43 </span>            :     //print(&quot;Active boards: &quot;+user.boards.length.toString());
<span class="lineNum">      44 </span>            :   }
<span class="lineNum">      45 </span><span class="lineNoCov">          0 :   Future initializeDisplay() async {</span>
<span class="lineNum">      46 </span><span class="lineNoCov">          0 :     await initialize();</span>
<span class="lineNum">      47 </span><span class="lineNoCov">          0 :     listArchDynamic.clear();</span>
<span class="lineNum">      48 </span><span class="lineNoCov">          0 :     print('Initializing board display! ##################');</span>
<span class="lineNum">      49 </span>            : 
<span class="lineNum">      50 </span><span class="lineNoCov">          0 :     if (user.archivedBoards != null) {</span>
<span class="lineNum">      51 </span><span class="lineNoCov">          0 :       if(user.archivedBoards.length==0){</span>
<span class="lineNum">      52 </span>            :         _isDeleted=true;
<span class="lineNum">      53 </span>            :       }
<span class="lineNum">      54 </span>            :       else{
<span class="lineNum">      55 </span><span class="lineNoCov">          0 :         for (int i = 0; i &lt; user.archivedBoards.length; i++) {</span>
<span class="lineNum">      56 </span><span class="lineNoCov">          0 :           print(&quot;Board ID: &quot; +</span>
<span class="lineNum">      57 </span><span class="lineNoCov">          0 :               user.archivedBoards[i].ProjectID.toString() +</span>
<span class="lineNum">      58 </span><span class="lineNoCov">          0 :               &quot;, Title: &quot; +</span>
<span class="lineNum">      59 </span><span class="lineNoCov">          0 :               user.archivedBoards[i].Project_Title);</span>
<span class="lineNum">      60 </span><span class="lineNoCov">          0 :           listArchDynamic.add(new DynamicWidget(aboard: user.archivedBoards[i]));</span>
<span class="lineNum">      61 </span>            :         }
<span class="lineNum">      62 </span>            :       }
<span class="lineNum">      63 </span>            : 
<span class="lineNum">      64 </span>            :     }
<span class="lineNum">      65 </span>            :     else{
<span class="lineNum">      66 </span>            :       _isDeleted=true;
<span class="lineNum">      67 </span>            :     }
<span class="lineNum">      68 </span>            :   }
<span class="lineNum">      69 </span>            : 
<span class="lineNum">      70 </span><span class="lineNoCov">          0 :   @override</span>
<span class="lineNum">      71 </span><span class="lineNoCov">          0 :   _ArchivedBoardsPageState createState() =&gt; _ArchivedBoardsPageState();</span>
<span class="lineNum">      72 </span>            : }
<span class="lineNum">      73 </span>            : 
<span class="lineNum">      74 </span>            : class _ArchivedBoardsPageState extends State&lt;ArchivedBoards&gt; {
<span class="lineNum">      75 </span>            : 
<span class="lineNum">      76 </span>            :   String boardTitle = &quot;&quot;;
<span class="lineNum">      77 </span>            : 
<span class="lineNum">      78 </span>            : 
<span class="lineNum">      79 </span>            :   DateTime _startDate;
<span class="lineNum">      80 </span>            :   DateTime _endDate;
<span class="lineNum">      81 </span>            :   final format = DateFormat(&quot;yyyy-MM-dd&quot;);
<span class="lineNum">      82 </span>            :   String startDateInput = &quot;Select date ...&quot;;
<span class="lineNum">      83 </span>            :   String endDateInput = &quot;Select date ...&quot;;
<span class="lineNum">      84 </span>            :   TextStyle dateStyle = TextStyle(
<span class="lineNum">      85 </span>            :       color: Colors.black.withOpacity(0.65), fontFamily: 'Montserrat');
<span class="lineNum">      86 </span>            : 
<span class="lineNum">      87 </span>            : 
<span class="lineNum">      88 </span><span class="lineNoCov">          0 :   signout() {</span>
<span class="lineNum">      89 </span><span class="lineNoCov">          0 :     degrees.clear();</span>
<span class="lineNum">      90 </span><span class="lineNoCov">          0 :     studentTypes.clear();</span>
<span class="lineNum">      91 </span><span class="lineNoCov">          0 :     listArchDynamic.clear();</span>
<span class="lineNum">      92 </span>            : 
<span class="lineNum">      93 </span><span class="lineNoCov">          0 :     user = new User();</span>
<span class="lineNum">      94 </span><span class="lineNoCov">          0 :     supervisor = new Supervisor();</span>
<span class="lineNum">      95 </span><span class="lineNoCov">          0 :     student = new Student();</span>
<span class="lineNum">      96 </span>            :     //project_board=new Project_Board();
<span class="lineNum">      97 </span><span class="lineNoCov">          0 :     studentController = new StudentController();</span>
<span class="lineNum">      98 </span><span class="lineNoCov">          0 :     supervisorController = new SupervisorController();</span>
<span class="lineNum">      99 </span><span class="lineNoCov">          0 :     userController = new UserController();</span>
<span class="lineNum">     100 </span>            :     //project_boardController=new Project_BoardController();
<span class="lineNum">     101 </span><span class="lineNoCov">          0 :     Navigator.popAndPushNamed(context, '/Login');</span>
<span class="lineNum">     102 </span>            : 
<span class="lineNum">     103 </span>            : //ProjectBoardView
<span class="lineNum">     104 </span><span class="lineNoCov">          0 :     homePage = new HomePage();</span>
<span class="lineNum">     105 </span>            :   }
<span class="lineNum">     106 </span>            : 
<span class="lineNum">     107 </span>            :   TextStyle style = TextStyle(
<span class="lineNum">     108 </span>            :       fontFamily: 'Montserrat', fontSize: 20.0, color: (Colors.white));
<span class="lineNum">     109 </span>            : bool _viewArchived=false;
<span class="lineNum">     110 </span><span class="lineNoCov">          0 :   @override</span>
<span class="lineNum">     111 </span>            :   Widget build(BuildContext context) {
<span class="lineNum">     112 </span>            : 
<span class="lineNum">     113 </span><span class="lineNoCov">          0 :     Widget dynamicTextField = new Container(</span>
<span class="lineNum">     114 </span>            :       alignment: Alignment.center,
<span class="lineNum">     115 </span><span class="lineNoCov">          0 :       margin: new EdgeInsets.all(10.0),</span>
<span class="lineNum">     116 </span>            :       //height: MediaQuery.of(context).size.height,
<span class="lineNum">     117 </span><span class="lineNoCov">          0 :       child: ListView.builder(</span>
<span class="lineNum">     118 </span><span class="lineNoCov">          0 :         itemCount: listArchDynamic.length,</span>
<span class="lineNum">     119 </span><span class="lineNoCov">          0 :         itemBuilder: (_, index) =&gt; listArchDynamic[index],</span>
<span class="lineNum">     120 </span>            :       ),
<span class="lineNum">     121 </span>            :     );
<span class="lineNum">     122 </span>            : 
<span class="lineNum">     123 </span>            : 
<span class="lineNum">     124 </span>            : 
<span class="lineNum">     125 </span><span class="lineNoCov">          0 :     final noBoardsView = new Container(</span>
<span class="lineNum">     126 </span><span class="lineNoCov">          0 :       width: MediaQuery.of(context).size.width,</span>
<span class="lineNum">     127 </span>            :       //height: MediaQuery.of(context).size.height,
<span class="lineNum">     128 </span><span class="lineNoCov">          0 :       decoration: BoxDecoration(</span>
<span class="lineNum">     129 </span>            :         color: Colors.white,
<span class="lineNum">     130 </span>            :       ),
<span class="lineNum">     131 </span><span class="lineNoCov">          0 :       child: Column(</span>
<span class="lineNum">     132 </span>            :         mainAxisAlignment: MainAxisAlignment.center,
<span class="lineNum">     133 </span>            :         crossAxisAlignment: CrossAxisAlignment.center,
<span class="lineNum">     134 </span>            :         //mainAxisSize: MainAxisSize.max,
<span class="lineNum">     135 </span>            : 
<span class="lineNum">     136 </span><span class="lineNoCov">          0 :         children: &lt;Widget&gt;[</span>
<span class="lineNum">     137 </span><span class="lineNoCov">          0 :           Container(</span>
<span class="lineNum">     138 </span><span class="lineNoCov">          0 :             width: MediaQuery.of(context).size.width / 1.1,</span>
<span class="lineNum">     139 </span>            :             alignment: Alignment.bottomCenter,
<span class="lineNum">     140 </span><span class="lineNoCov">          0 :             child: Text(</span>
<span class="lineNum">     141 </span>            :               &quot;No archived boards.&quot;,
<span class="lineNum">     142 </span><span class="lineNoCov">          0 :               style: TextStyle(</span>
<span class="lineNum">     143 </span>            :                   fontFamily: 'Montserrat',
<span class="lineNum">     144 </span>            :                   fontSize: 20.0,
<span class="lineNum">     145 </span>            :                   fontWeight: FontWeight.bold,
<span class="lineNum">     146 </span>            :                   color: Colors.blueGrey),
<span class="lineNum">     147 </span>            :             ),
<span class="lineNum">     148 </span>            :           ),
<span class="lineNum">     149 </span>            : 
<span class="lineNum">     150 </span>            :         ],
<span class="lineNum">     151 </span>            :       ),
<span class="lineNum">     152 </span>            :     );
<span class="lineNum">     153 </span>            :     bool archempty=false;
<span class="lineNum">     154 </span>            :    // if(user.archivedBoards=null)
<span class="lineNum">     155 </span>            : 
<span class="lineNum">     156 </span><span class="lineNoCov">          0 :     return Scaffold(</span>
<span class="lineNum">     157 </span><span class="lineNoCov">          0 :       appBar: AppBar(</span>
<span class="lineNum">     158 </span><span class="lineNoCov">          0 :         title: Text(&quot;Archived Boards&quot;),</span>
<span class="lineNum">     159 </span><span class="lineNoCov">          0 :         backgroundColor: Color(0xff009999),</span>
<span class="lineNum">     160 </span>            :       ),
<span class="lineNum">     161 </span><span class="lineNoCov">          0 :       body: new Container(</span>
<span class="lineNum">     162 </span>            :         alignment: Alignment.center,
<span class="lineNum">     163 </span><span class="lineNoCov">          0 :         margin: new EdgeInsets.all(10.0),</span>
<span class="lineNum">     164 </span><span class="lineNoCov">          0 :         child: (user.archivedBoards==null ) ? noBoardsView : (user.archivedBoards.length == 0) ? noBoardsView : dynamicTextField,</span>
<span class="lineNum">     165 </span>            :       ),
<span class="lineNum">     166 </span><span class="lineNoCov">          0 :       drawer: Drawer(</span>
<span class="lineNum">     167 </span>            :         // Add a ListView to the drawer. This ensures the user can scroll
<span class="lineNum">     168 </span>            :         // through the options in the drawer if there isn't enough vertical
<span class="lineNum">     169 </span>            :         // space to fit everything.
<span class="lineNum">     170 </span><span class="lineNoCov">          0 :         child: ListView(</span>
<span class="lineNum">     171 </span>            :           // Important: Remove any padding from the ListView.
<span class="lineNum">     172 </span>            :           padding: EdgeInsets.zero,
<span class="lineNum">     173 </span><span class="lineNoCov">          0 :           children: &lt;Widget&gt;[</span>
<span class="lineNum">     174 </span><span class="lineNoCov">          0 :             DrawerHeader(</span>
<span class="lineNum">     175 </span><span class="lineNoCov">          0 :               child: Text('Menu',</span>
<span class="lineNum">     176 </span><span class="lineNoCov">          0 :                   style: TextStyle(</span>
<span class="lineNum">     177 </span>            :                       color: Colors.white,
<span class="lineNum">     178 </span>            :                       fontWeight: FontWeight.bold,
<span class="lineNum">     179 </span>            :                       fontSize: 18.0)),
<span class="lineNum">     180 </span><span class="lineNoCov">          0 :               decoration: BoxDecoration(</span>
<span class="lineNum">     181 </span><span class="lineNoCov">          0 :                 color: Color(0xff009999),</span>
<span class="lineNum">     182 </span>            :               ),
<span class="lineNum">     183 </span>            :             ),
<span class="lineNum">     184 </span><span class="lineNoCov">          0 :             ListTile(</span>
<span class="lineNum">     185 </span><span class="lineNoCov">          0 :               title: Text('View Profile',</span>
<span class="lineNum">     186 </span><span class="lineNoCov">          0 :                   style: TextStyle(</span>
<span class="lineNum">     187 </span><span class="lineNoCov">          0 :                       color: Color(0xff009999), fontWeight: FontWeight.bold)),</span>
<span class="lineNum">     188 </span><span class="lineNoCov">          0 :               onTap: () {</span>
<span class="lineNum">     189 </span>            : 
<span class="lineNum">     190 </span><span class="lineNoCov">          0 :                 if (user.userTypeID == 1) {</span>
<span class="lineNum">     191 </span><span class="lineNoCov">          0 :                   Navigator.popAndPushNamed(context, '/StudProfile');</span>
<span class="lineNum">     192 </span><span class="lineNoCov">          0 :                 } else if (user.userTypeID == 2) {</span>
<span class="lineNum">     193 </span>            : //                  supervisorController.fetchSup(user.email);
<span class="lineNum">     194 </span>            : //                  print('Navigate to View Supervisor Profile: ' +
<span class="lineNum">     195 </span>            : //                      supervisor.staffNo);
<span class="lineNum">     196 </span><span class="lineNoCov">          0 :                   Navigator.popAndPushNamed(context, '/SupProfile');</span>
<span class="lineNum">     197 </span>            :                 } else {
<span class="lineNum">     198 </span><span class="lineNoCov">          0 :                   print('User type not recognized');</span>
<span class="lineNum">     199 </span><span class="lineNoCov">          0 :                   Navigator.pop(context);</span>
<span class="lineNum">     200 </span>            :                 }
<span class="lineNum">     201 </span>            :               },
<span class="lineNum">     202 </span>            :             ),
<span class="lineNum">     203 </span><span class="lineNoCov">          0 :             ListTile(</span>
<span class="lineNum">     204 </span><span class="lineNoCov">          0 :               title: Text('Active Boards',</span>
<span class="lineNum">     205 </span><span class="lineNoCov">          0 :                   style: TextStyle(</span>
<span class="lineNum">     206 </span><span class="lineNoCov">          0 :                       color: Color(0xff009999), fontWeight: FontWeight.bold)),</span>
<span class="lineNum">     207 </span><span class="lineNoCov">          0 :               onTap: () async{</span>
<span class="lineNum">     208 </span><span class="lineNoCov">          0 :                 print(&quot;Active boards&quot;);</span>
<span class="lineNum">     209 </span><span class="lineNoCov">          0 :                 await homePage.initializeDisplay();</span>
<span class="lineNum">     210 </span><span class="lineNoCov">          0 :                 setState(() {</span>
<span class="lineNum">     211 </span><span class="lineNoCov">          0 :                   Navigator.of(context).pushNamed('/Home');</span>
<span class="lineNum">     212 </span>            :                 });
<span class="lineNum">     213 </span>            :               },
<span class="lineNum">     214 </span>            :             ),
<span class="lineNum">     215 </span><span class="lineNoCov">          0 :             ListTile(</span>
<span class="lineNum">     216 </span><span class="lineNoCov">          0 :               title: Text('Sign Out',</span>
<span class="lineNum">     217 </span><span class="lineNoCov">          0 :                   style: TextStyle(</span>
<span class="lineNum">     218 </span><span class="lineNoCov">          0 :                       color: Color(0xff009999), fontWeight: FontWeight.bold)),</span>
<span class="lineNum">     219 </span><span class="lineNoCov">          0 :               onTap: () {</span>
<span class="lineNum">     220 </span><span class="lineNoCov">          0 :                 signout();</span>
<span class="lineNum">     221 </span>            :               },
<span class="lineNum">     222 </span>            :             ),
<span class="lineNum">     223 </span>            : 
<span class="lineNum">     224 </span>            :           ],
<span class="lineNum">     225 </span>            :         ),
<span class="lineNum">     226 </span>            :       ),
<span class="lineNum">     227 </span>            :     );
<span class="lineNum">     228 </span>            :   }
<span class="lineNum">     229 </span>            : }
<span class="lineNum">     230 </span>            : 
<span class="lineNum">     231 </span>            : // ignore: must_be_immutable
<span class="lineNum">     232 </span>            : class DynamicWidget extends StatefulWidget {
<span class="lineNum">     233 </span>            :   TextStyle style = TextStyle(
<span class="lineNum">     234 </span>            :       fontFamily: 'Montserrat', fontSize: 20.0, color: (Colors.white));
<span class="lineNum">     235 </span>            :   //String giventitle='';
<span class="lineNum">     236 </span>            :   Project_Board aboard;
<span class="lineNum">     237 </span>            : 
<span class="lineNum">     238 </span><span class="lineNoCov">          0 :   DynamicWidget({Key key, @required this.aboard}) : super(key: key);</span>
<span class="lineNum">     239 </span>            : 
<span class="lineNum">     240 </span><span class="lineNoCov">          0 :   popLists() async {</span>
<span class="lineNum">     241 </span><span class="lineNoCov">          0 :     aboard.boardLists = await listController.ReadLists(aboard.ProjectID);</span>
<span class="lineNum">     242 </span>            :   }
<span class="lineNum">     243 </span>            : 
<span class="lineNum">     244 </span><span class="lineNoCov">          0 :   @override</span>
<span class="lineNum">     245 </span><span class="lineNoCov">          0 :   _DynamicWidgetState createState() =&gt; _DynamicWidgetState();</span>
<span class="lineNum">     246 </span>            : }
<span class="lineNum">     247 </span>            : 
<span class="lineNum">     248 </span>            : 
<span class="lineNum">     249 </span>            : 
<span class="lineNum">     250 </span>            : class _DynamicWidgetState extends State&lt;DynamicWidget&gt; {
<span class="lineNum">     251 </span>            : 
<span class="lineNum">     252 </span>            :   // ignore: missing_return
<span class="lineNum">     253 </span><span class="lineNoCov">          0 :   int getBoardIndex(int boardID) {</span>
<span class="lineNum">     254 </span><span class="lineNoCov">          0 :     for (int i = 0; i &lt; user.archivedBoards.length; i++) {</span>
<span class="lineNum">     255 </span><span class="lineNoCov">          0 :       if (user.archivedBoards[i].ProjectID == boardID) {</span>
<span class="lineNum">     256 </span>            :         return i;
<span class="lineNum">     257 </span>            :       }
<span class="lineNum">     258 </span>            :     }
<span class="lineNum">     259 </span>            :   }
<span class="lineNum">     260 </span>            :   bool _isShareDisabled=false;
<span class="lineNum">     261 </span>            :   bool _isEditDisabled=false;
<span class="lineNum">     262 </span><span class="lineNoCov">          0 :   determineAccess(){</span>
<span class="lineNum">     263 </span><span class="lineNoCov">          0 :     Project_Board pb=user.archivedBoards[getBoardIndex(widget.aboard.ProjectID)];</span>
<span class="lineNum">     264 </span><span class="lineNoCov">          0 :     if(pb.AccessLevel==null || pb.AccessLevel==1) {</span>
<span class="lineNum">     265 </span>            :       //Full admin
<span class="lineNum">     266 </span><span class="lineNoCov">          0 :       _isShareDisabled = false;</span>
<span class="lineNum">     267 </span><span class="lineNoCov">          0 :       _isEditDisabled = false;</span>
<span class="lineNum">     268 </span>            :     }
<span class="lineNum">     269 </span><span class="lineNoCov">          0 :     else if(pb.AccessLevel==2){</span>
<span class="lineNum">     270 </span>            :       //Can edit but not share
<span class="lineNum">     271 </span><span class="lineNoCov">          0 :       _isShareDisabled = true;</span>
<span class="lineNum">     272 </span><span class="lineNoCov">          0 :       _isEditDisabled = false;</span>
<span class="lineNum">     273 </span><span class="lineNoCov">          0 :     }else if (pb.AccessLevel==3){</span>
<span class="lineNum">     274 </span>            :       //Can only view
<span class="lineNum">     275 </span><span class="lineNoCov">          0 :       _isShareDisabled = true;</span>
<span class="lineNum">     276 </span><span class="lineNoCov">          0 :       _isEditDisabled = true;</span>
<span class="lineNum">     277 </span>            :     }
<span class="lineNum">     278 </span>            :   }
<span class="lineNum">     279 </span><span class="lineNoCov">          0 :   @override</span>
<span class="lineNum">     280 </span>            :   Widget build(BuildContext context) {
<span class="lineNum">     281 </span>            :     //determineAccess();
<span class="lineNum">     282 </span>            :     //widget.popLists();
<span class="lineNum">     283 </span><span class="lineNoCov">          0 :     Project_BoardController projectBoardController = new Project_BoardController();</span>
<span class="lineNum">     284 </span><span class="lineNoCov">          0 :     TextEditingController descriptionController = new TextEditingController();</span>
<span class="lineNum">     285 </span>            :     // ignore: non_constant_identifier_names
<span class="lineNum">     286 </span><span class="lineNoCov">          0 :     final Edit_formKey = GlobalKey&lt;FormState&gt;();</span>
<span class="lineNum">     287 </span>            :     //int userType=user.userTypeID;
<span class="lineNum">     288 </span>            : 
<span class="lineNum">     289 </span>            :     DateTime _startDate;
<span class="lineNum">     290 </span>            :     DateTime _endDate;
<span class="lineNum">     291 </span>            : 
<span class="lineNum">     292 </span>            : 
<span class="lineNum">     293 </span><span class="lineNoCov">          0 :     TextStyle datestyle = TextStyle(</span>
<span class="lineNum">     294 </span><span class="lineNoCov">          0 :         color: Colors.black.withOpacity(0.65), fontFamily: 'Montserrat');</span>
<span class="lineNum">     295 </span>            : 
<span class="lineNum">     296 </span>            : 
<span class="lineNum">     297 </span><span class="lineNoCov">          0 :     Future&lt;String&gt; confirmDeleteAlertDialog(BuildContext context) {</span>
<span class="lineNum">     298 </span><span class="lineNoCov">          0 :       return showDialog(</span>
<span class="lineNum">     299 </span>            :           context: context,
<span class="lineNum">     300 </span><span class="lineNoCov">          0 :           builder: (context) {</span>
<span class="lineNum">     301 </span><span class="lineNoCov">          0 :             return AlertDialog(</span>
<span class="lineNum">     302 </span><span class="lineNoCov">          0 :               title: Text(</span>
<span class="lineNum">     303 </span>            :                 &quot;CONFIRM DELETE &quot;,
<span class="lineNum">     304 </span>            :                 style:
<span class="lineNum">     305 </span><span class="lineNoCov">          0 :                 TextStyle(fontWeight: FontWeight.bold, color: Colors.red),</span>
<span class="lineNum">     306 </span>            :               ),
<span class="lineNum">     307 </span><span class="lineNoCov">          0 :               content: Text(</span>
<span class="lineNum">     308 </span>            :                 &quot;Are you sure you want to delete this board?&quot;,
<span class="lineNum">     309 </span>            :                 style:
<span class="lineNum">     310 </span><span class="lineNoCov">          0 :                 TextStyle(fontWeight: FontWeight.bold, color: Colors.black),</span>
<span class="lineNum">     311 </span>            :               ),
<span class="lineNum">     312 </span><span class="lineNoCov">          0 :               actions: &lt;Widget&gt;[</span>
<span class="lineNum">     313 </span><span class="lineNoCov">          0 :                 MaterialButton(</span>
<span class="lineNum">     314 </span>            :                   elevation: 5.0,
<span class="lineNum">     315 </span><span class="lineNoCov">          0 :                   child: Text(</span>
<span class="lineNum">     316 </span>            :                     &quot;Yes&quot;,
<span class="lineNum">     317 </span><span class="lineNoCov">          0 :                     style: TextStyle(color: Colors.red),</span>
<span class="lineNum">     318 </span>            :                   ),
<span class="lineNum">     319 </span><span class="lineNoCov">          0 :                   onPressed: () async {</span>
<span class="lineNum">     320 </span>            :                     int boardIndex;
<span class="lineNum">     321 </span><span class="lineNoCov">          0 :                     for (int j=0;j&lt;user.archivedBoards.length;j++){</span>
<span class="lineNum">     322 </span><span class="lineNoCov">          0 :                       if(user.archivedBoards[j].ProjectID==widget.aboard.ProjectID){</span>
<span class="lineNum">     323 </span>            :                         boardIndex=j;
<span class="lineNum">     324 </span>            :                       }
<span class="lineNum">     325 </span>            :                     }
<span class="lineNum">     326 </span><span class="lineNoCov">          0 :                     await projectBoardController.deleteBoard(widget.aboard.ProjectID);</span>
<span class="lineNum">     327 </span>            : 
<span class="lineNum">     328 </span>            : 
<span class="lineNum">     329 </span><span class="lineNoCov">          0 :                     listArchDynamic.removeAt(boardIndex);</span>
<span class="lineNum">     330 </span><span class="lineNoCov">          0 :                     homePage.initializeDisplay();</span>
<span class="lineNum">     331 </span><span class="lineNoCov">          0 :                     Navigator.pop(context);</span>
<span class="lineNum">     332 </span><span class="lineNoCov">          0 :                     Navigator.push(</span>
<span class="lineNum">     333 </span>            :                       context,
<span class="lineNum">     334 </span><span class="lineNoCov">          0 :                       MaterialPageRoute(builder: (BuildContext context) =&gt; homePage),</span>
<span class="lineNum">     335 </span>            :                     );
<span class="lineNum">     336 </span><span class="lineNoCov">          0 :                     setState(() {</span>
<span class="lineNum">     337 </span>            : 
<span class="lineNum">     338 </span>            :                     });
<span class="lineNum">     339 </span>            :                   },
<span class="lineNum">     340 </span>            :                 ),
<span class="lineNum">     341 </span><span class="lineNoCov">          0 :                 MaterialButton(</span>
<span class="lineNum">     342 </span>            :                   elevation: 5.0,
<span class="lineNum">     343 </span><span class="lineNoCov">          0 :                   child: Text(&quot;No&quot;),</span>
<span class="lineNum">     344 </span><span class="lineNoCov">          0 :                   onPressed: () {</span>
<span class="lineNum">     345 </span><span class="lineNoCov">          0 :                     Navigator.pop(context);</span>
<span class="lineNum">     346 </span>            :                   },
<span class="lineNum">     347 </span>            :                 ),
<span class="lineNum">     348 </span>            :               ],
<span class="lineNum">     349 </span>            :             );
<span class="lineNum">     350 </span>            :           });
<span class="lineNum">     351 </span>            :     }
<span class="lineNum">     352 </span>            : 
<span class="lineNum">     353 </span>            : 
<span class="lineNum">     354 </span>            : 
<span class="lineNum">     355 </span>            : 
<span class="lineNum">     356 </span><span class="lineNoCov">          0 :     final listReturn = kIsWeb==false? new Container(</span>
<span class="lineNum">     357 </span><span class="lineNoCov">          0 :       margin: EdgeInsets.all(8),</span>
<span class="lineNum">     358 </span><span class="lineNoCov">          0 :       padding: EdgeInsets.all(8),</span>
<span class="lineNum">     359 </span><span class="lineNoCov">          0 :       decoration: BoxDecoration(</span>
<span class="lineNum">     360 </span><span class="lineNoCov">          0 :           color: Colors.blueGrey, borderRadius: BorderRadius.circular(20)),</span>
<span class="lineNum">     361 </span><span class="lineNoCov">          0 :       child: ListTile(</span>
<span class="lineNum">     362 </span><span class="lineNoCov">          0 :         title: Text(</span>
<span class="lineNum">     363 </span><span class="lineNoCov">          0 :           widget.aboard.Project_Title,</span>
<span class="lineNum">     364 </span><span class="lineNoCov">          0 :           style: widget.style,</span>
<span class="lineNum">     365 </span>            :         ),
<span class="lineNum">     366 </span>            : //        trailing: PopupMenuButton(
<span class="lineNum">     367 </span>            : //          itemBuilder: ,
<span class="lineNum">     368 </span>            : //
<span class="lineNum">     369 </span>            : //        ),
<span class="lineNum">     370 </span><span class="lineNoCov">          0 :         onTap: () async {</span>
<span class="lineNum">     371 </span>            : //          print(&quot;BOARD: &quot;+widget.aboard.ProjectID.toString());
<span class="lineNum">     372 </span><span class="lineNoCov">          0 :           await widget.popLists();</span>
<span class="lineNum">     373 </span>            : 
<span class="lineNum">     374 </span><span class="lineNoCov">          0 :           Board boardPage = new Board();</span>
<span class="lineNum">     375 </span><span class="lineNoCov">          0 :           boardPage.proj_board=widget.aboard;</span>
<span class="lineNum">     376 </span>            : 
<span class="lineNum">     377 </span><span class="lineNoCov">          0 :           await boardPage.populateListDisplay(widget.aboard.ProjectID);</span>
<span class="lineNum">     378 </span>            : 
<span class="lineNum">     379 </span>            : 
<span class="lineNum">     380 </span><span class="lineNoCov">          0 :           Navigator.push(</span>
<span class="lineNum">     381 </span>            :             context,
<span class="lineNum">     382 </span><span class="lineNoCov">          0 :             MaterialPageRoute(builder: (BuildContext context) =&gt; boardPage),</span>
<span class="lineNum">     383 </span>            :           );
<span class="lineNum">     384 </span>            :         },
<span class="lineNum">     385 </span>            :       ),
<span class="lineNum">     386 </span>            :     ):
<span class="lineNum">     387 </span><span class="lineNoCov">          0 :     Row(</span>
<span class="lineNum">     388 </span><span class="lineNoCov">          0 :       children: [</span>
<span class="lineNum">     389 </span><span class="lineNoCov">          0 :         Expanded(</span>
<span class="lineNum">     390 </span>            :           flex:1,
<span class="lineNum">     391 </span><span class="lineNoCov">          0 :           child:Text(&quot;&quot;)</span>
<span class="lineNum">     392 </span>            :         ),
<span class="lineNum">     393 </span><span class="lineNoCov">          0 :         Expanded(</span>
<span class="lineNum">     394 </span>            :           flex:5,
<span class="lineNum">     395 </span><span class="lineNoCov">          0 :             child:new Container(</span>
<span class="lineNum">     396 </span><span class="lineNoCov">          0 :               margin: EdgeInsets.all(8),</span>
<span class="lineNum">     397 </span><span class="lineNoCov">          0 :               padding: EdgeInsets.all(8),</span>
<span class="lineNum">     398 </span><span class="lineNoCov">          0 :               decoration: BoxDecoration(</span>
<span class="lineNum">     399 </span><span class="lineNoCov">          0 :                   color: Colors.blueGrey, borderRadius: BorderRadius.circular(20)),</span>
<span class="lineNum">     400 </span><span class="lineNoCov">          0 :               child: ListTile(</span>
<span class="lineNum">     401 </span><span class="lineNoCov">          0 :                 title: Text(</span>
<span class="lineNum">     402 </span><span class="lineNoCov">          0 :                   widget.aboard.Project_Title,</span>
<span class="lineNum">     403 </span><span class="lineNoCov">          0 :                   style: widget.style,</span>
<span class="lineNum">     404 </span>            :                 ),
<span class="lineNum">     405 </span>            :                 //trailing: PopupMenuButton(),
<span class="lineNum">     406 </span><span class="lineNoCov">          0 :                 onTap: () async {</span>
<span class="lineNum">     407 </span><span class="lineNoCov">          0 :                   print(&quot;BOARD: &quot;+widget.aboard.ProjectID.toString());</span>
<span class="lineNum">     408 </span><span class="lineNoCov">          0 :                   await widget.popLists();</span>
<span class="lineNum">     409 </span><span class="lineNoCov">          0 :                   print(&quot;LISTS IS NULL: &quot;+(widget.aboard.boardLists==null).toString());</span>
<span class="lineNum">     410 </span>            :                   //aboard.boardLists = await listController.ReadLists(aboard.ProjectID);
<span class="lineNum">     411 </span><span class="lineNoCov">          0 :                   Board boardPage = new Board(</span>
<span class="lineNum">     412 </span><span class="lineNoCov">          0 :                     proj_board: widget.aboard,</span>
<span class="lineNum">     413 </span>            :                   );
<span class="lineNum">     414 </span><span class="lineNoCov">          0 :                   await boardPage.populateListDisplay(widget.aboard.ProjectID);</span>
<span class="lineNum">     415 </span>            : 
<span class="lineNum">     416 </span>            : 
<span class="lineNum">     417 </span><span class="lineNoCov">          0 :                   Navigator.push(</span>
<span class="lineNum">     418 </span>            :                     context,
<span class="lineNum">     419 </span><span class="lineNoCov">          0 :                     MaterialPageRoute(builder: (BuildContext context) =&gt; boardPage),</span>
<span class="lineNum">     420 </span>            :                   );
<span class="lineNum">     421 </span>            :                 },
<span class="lineNum">     422 </span>            :               ),
<span class="lineNum">     423 </span>            :             )
<span class="lineNum">     424 </span>            :         ),
<span class="lineNum">     425 </span><span class="lineNoCov">          0 :         Expanded(</span>
<span class="lineNum">     426 </span>            :             flex:1,
<span class="lineNum">     427 </span><span class="lineNoCov">          0 :             child:Text(&quot;&quot;)</span>
<span class="lineNum">     428 </span>            :         )
<span class="lineNum">     429 </span>            :       ],
<span class="lineNum">     430 </span>            :     );
<span class="lineNum">     431 </span>            : 
<span class="lineNum">     432 </span>            :     return listReturn;
<span class="lineNum">     433 </span>            :   }
<span class="lineNum">     434 </span>            : }
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.12</a></td></tr>
  </table>
  <br>

</body>
</html>
